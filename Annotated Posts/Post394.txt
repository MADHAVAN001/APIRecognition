My	O
Environment	O
:	O
Fedora	O
8	O
;	O
WAS	O
6.1	O
(	O
as	O
installed	O
with	O
Rational	O
Application	O
Developer	O
7	O
)	O
The	O
documentation	O
is	O
very	O
poor	O
in	O
this	O
area	O
and	O
there	O
is	O
a	O
dearth	O
of	O
practical	O
examples	O
.	O
Using	O
the	O
WebSphere	O
Application	O
Server	O
(	O
WAS	O
)	O
Ant	O
tasks	O
To	O
run	O
as	O
described	O
here	O
,	O
you	O
need	O
to	O
run	O
them	O
from	O
your	O
server	O
profile	O
bin	O
directory	O
using	O
the	O
ws_ant.sh	O
or	O
ws_ant.bat	O
commands	O
.	O
?	O
xml	O
version=	O
''	O
1.0	O
''	O
?	O
project	O
name=	O
''	O
project	O
''	O
default=	O
''	O
wasListApps	O
''	O
basedir=	O
''	O
.	O
''	O
description	O
Script	O
for	O
listing	O
installed	O
apps	O
.	O
Example	O
run	O
from	O
:	O
/opt/IBM/SDP70/runtimes/base_v61/profiles/AppSrv01/bin	O
/description	O
property	O
name=	O
''	O
was_home	O
''	O
value=	O
''	O
/opt/IBM/SDP70/runtimes/base_v61/	O
''	O
/property	O
path	O
id=	O
''	O
was.runtime	O
''	O
fileset	O
dir=	O
''	O
$	O
{	O
was_home	O
}	O
/lib	O
''	O
include	O
name=	O
''	O
**/*.jar	O
''	O
/	O
/fileset	O
fileset	O
dir=	O
''	O
$	O
{	O
was_home	O
}	O
/plugins	O
''	O
include	O
name=	O
''	O
**/*.jar	O
''	O
/	O
/fileset	O
/path	O
property	O
name=	O
''	O
was_cp	O
''	O
value=	O
''	O
$	O
{	O
toString	O
:	O
was.runtime	O
}	O
''	O
/property	O
property	O
environment=	O
''	O
env	O
''	O
/property	O
target	O
name=	O
''	O
wasListApps	O
''	O
taskdef	O
name=	O
''	O
wsListApp	O
''	O
classname=	O
''	O
com.ibm.websphere.ant.tasks.ListApplications	O
''	O
classpath=	O
''	O
$	O
{	O
was_cp	O
}	O
''	O
/taskdef	O
wsListApp	O
wasHome=	O
''	O
$	O
{	O
was_home	O
}	O
''	O
/	O
/target	O
/project	O
Command	O
:	O
./ws_ant.sh	O
-buildfile	O
~/IBM/rationalsdp7.0/workspace/mywebappDeploy/applist.xml	O
A	O
Deployment	O
Script	O
?	O
xml	O
version=	O
''	O
1.0	O
''	O
?	O
project	O
name=	O
''	O
project	O
''	O
default=	O
''	O
default	O
''	O
basedir=	O
''	O
.	O
''	O
description	O
Build/Deploy	O
an	O
EAR	O
to	O
WebSphere	O
Application	O
Server	O
6.1	O
/description	O
property	O
name=	O
''	O
was_home	O
''	O
value=	O
''	O
/opt/IBM/SDP70/runtimes/base_v61/	O
''	O
/	O
path	O
id=	O
''	O
was.runtime	O
''	O
fileset	O
dir=	O
''	O
$	O
{	O
was_home	O
}	O
/lib	O
''	O
include	O
name=	O
''	O
**/*.jar	O
''	O
/	O
/fileset	O
fileset	O
dir=	O
''	O
$	O
{	O
was_home	O
}	O
/plugins	O
''	O
include	O
name=	O
''	O
**/*.jar	O
''	O
/	O
/fileset	O
/path	O
property	O
name=	O
''	O
was_cp	O
''	O
value=	O
''	O
$	O
{	O
toString	O
:	O
was.runtime	O
}	O
''	O
/	O
property	O
environment=	O
''	O
env	O
''	O
/	O
property	O
name=	O
''	O
ear	O
''	O
value=	O
''	O
$	O
{	O
env.HOME	O
}	O
/IBM/rationalsdp7.0/workspace/mywebappDeploy/mywebappEAR.ear	O
''	O
/	O
target	O
name=	O
''	O
default	O
''	O
depends=	O
''	O
deployEar	O
''	O
/target	O
target	O
name=	O
''	O
generateWar	O
''	O
depends=	O
''	O
compileWarClasses	O
''	O
jar	O
destfile=	O
''	O
mywebapp.war	O
''	O
fileset	O
dir=	O
''	O
../mywebapp/WebContent	O
''	O
/fileset	O
/jar	O
/target	O
target	O
name=	O
''	O
compileWarClasses	O
''	O
echo	O
message=	O
''	O
was_cp=	O
$	O
{	O
was_cp	O
}	O
''	O
/	O
javac	O
srcdir=	O
''	O
../mywebapp/src	O
''	O
destdir=	O
''	O
../mywebapp/WebContent/WEB-INF/classes	O
''	O
classpath=	O
''	O
$	O
{	O
was_cp	O
}	O
''	O
/javac	O
/target	O
target	O
name=	O
''	O
generateEar	O
''	O
depends=	O
''	O
generateWar	O
''	O
mkdir	O
dir=	O
''	O
./earbin/META-INF	O
''	O
/	O
move	O
file=	O
''	O
mywebapp.war	O
''	O
todir=	O
''	O
./earbin	O
''	O
/	O
copy	O
file=	O
''	O
../mywebappEAR/META-INF/application.xml	O
''	O
todir=	O
''	O
./earbin/META-INF	O
''	O
/	O
jar	O
destfile=	O
''	O
$	O
{	O
ear	O
}	O
''	O
fileset	O
dir=	O
''	O
./earbin	O
''	O
/	O
/jar	O
/target	O
!	O
--	O
http	O
:	O
//publib.boulder.ibm.com/infocenter/wasinfo/v6r1/index.jsp	O
?	O
topic=/com.ibm.websphere.javadoc.doc/public_html/api/com/ibm/websphere/ant/tasks/package-summary.html	O
--	O
target	O
name=	O
''	O
deployEar	O
''	O
depends=	O
''	O
generateEar	O
''	O
taskdef	O
name=	O
''	O
wsInstallApp	O
''	O
classname=	O
''	O
com.ibm.websphere.ant.tasks.InstallApplication	O
''	O
classpath=	O
''	O
$	O
{	O
was_cp	O
}	O
''	O
/	O
wsInstallApp	O
ear=	O
''	O
$	O
{	O
ear	O
}	O
''	O
failonerror=	O
''	O
true	O
''	O
debug=	O
''	O
true	O
''	O
taskname=	O
''	O
''	O
washome=	O
''	O
$	O
{	O
was_home	O
}	O
''	O
/	O
/target	O
/project	O
Notes	O
:	O
You	O
can	O
only	O
run	O
this	O
once	O
!	O
You	O
can	O
not	O
install	O
if	O
the	O
app	O
name	O
is	O
in	O
use	O
-	O
see	O
other	O
tasks	O
like	O
wsUninstallApp	O
It	O
probably	O
wo	O
n't	O
start	O
the	O
app	O
either	O
You	O
need	O
to	O
run	O
this	O
on	O
the	O
server	O
and	O
the	O
script	O
is	O
quite	O
fragile	O
Alternatives	O
I	O
would	O
probably	O
use	O
Java	O
Management	O
Extensions	O
(	O
JMX	O
)	O
.	O
You	O
could	O
write	O
a	O
file-upload	O
servlet	O
that	O
accepts	O
an	O
EAR	O
and	O
uses	O
the	O
deployment	O
MBeans	O
to	O
deploy	O
the	O
EAR	O
on	O
the	O
server	O
.	O
You	O
would	O
just	O
POST	O
the	O
file	O
over	O
HTTP	O
.	O
This	O
would	O
avoid	O
any	O
WAS	O
API	O
dependencies	O
on	O
your	O
dev/build	O
machine	O
and	O
could	O
be	O
independent	O
of	O
any	O
one	O
project	O
.	O
