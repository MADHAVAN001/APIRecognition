A	O
few	O
things	O
:	O
You	O
are	O
creating	O
(	O
and	O
not	O
using	O
)	O
an	O
unnecessary	O
toplevel	O
,	O
named	O
window	O
.	O
You	O
can	O
just	O
delete	O
these	O
lines	O
:	O
window	B
=	B
,	B
``	B
delete_event	I
''	I
,	I
,	B
,	B
``	B
destroy	I
''	I
,	I
,	B
gtk_window_new	B
(	I
GTK_WINDOW_TOPLEVEL	I
)	I
;	I
g_signal_connect	I
(	I
G_OBJECT	I
(	I
window	I
)	I
G_CALLBACK	B
(	I
delete_event	I
)	I
NULL	B
)	I
;	I
g_signal_connect	I
(	I
G_OBJECT	I
(	I
window	I
)	I
G_CALLBACK	B
(	I
destroy	I
)	I
Also	O
,	O
the	O
flow	O
does	O
n't	O
seem	O
quite	O
right	O
.	O
gtk_main	B
(	I
)	I
starts	O
the	O
GTK	O
main	O
loop	O
,	O
which	O
blocks	O
until	O
something	O
exits	O
it	O
.	O
gtk_dialog_run	B
(	I
)	I
also	O
starts	O
a	O
main	O
loop	O
,	O
but	O
it	O
exits	O
as	O
soon	O
as	O
one	O
of	O
the	O
buttons	O
is	O
clicked	O
.	O
I	O
think	O
it	O
might	O
be	O
enough	O
for	O
you	O
to	O
remove	O
the	O
gtk_init_add	B
(	I
)	I
and	O
gtk_main	B
(	I
)	I
calls	O
,	O
and	O
simply	O
deal	O
with	O
the	O
return	O
value	O
.	O
Also	O
the	O
gtk_widget_destroy	B
(	I
)	I
call	O
is	O
unnecessary	O
,	O
as	O
the	O
dialog	O
window	O
is	O
automatically	O
destroyed	O
when	O
gtk_dialog_run	O
(	O
)	O
returns	O
.	O
