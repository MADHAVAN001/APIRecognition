My	O
Goal	O
I	O
would	O
like	O
to	O
have	O
a	O
main	O
processing	O
thread	O
(	O
non	O
GUI	O
)	O
,	O
and	O
be	O
able	O
to	O
spin	O
off	O
GUIs	O
in	O
their	O
own	O
background	O
threads	O
as	O
needed	O
,	O
and	O
having	O
my	O
main	O
non	O
GUI	O
thread	O
keep	O
working	O
.	O
Put	O
another	O
way	O
,	O
I	O
want	O
my	O
main	O
non	O
GUI-thread	O
to	O
be	O
the	O
owner	O
of	O
the	O
GUI-thread	O
and	O
not	O
vice	O
versa	O
.	O
I	O
'm	O
not	O
sure	O
this	O
is	O
even	O
possible	O
with	O
Windows	O
Forms	O
(	O
?	O
)	O
Background	O
I	O
have	O
a	O
component	O
based	O
system	O
in	O
which	O
a	O
controller	O
dynamically	O
load	O
assemblies	O
and	O
instantiates	O
and	O
run	O
classes	O
implementing	O
a	O
common	O
interface	O
with	O
a	O
single	O
method	O
DoStuff	B
(	I
)	I
.	O
Which	O
components	O
that	O
gets	O
loaded	O
is	O
configured	O
via	O
a	O
xml	O
configuration	O
file	O
and	O
by	O
adding	O
new	O
assemblies	O
containing	O
different	O
implementations	O
of	O
.	O
The	O
components	O
provides	O
utility	O
functions	O
to	O
the	O
main	O
application	O
.	O
While	O
the	O
main	O
program	O
is	O
doing	O
it	O
's	O
thing	O
,	O
e.g	O
.	O
controlling	O
a	O
nuclear	O
plant	O
,	O
the	O
components	O
might	O
be	O
performing	O
utility	O
tasks	O
(	O
in	O
their	O
own	O
threads	O
)	O
,	O
e.g	O
.	O
cleaning	O
the	O
database	O
,	O
sending	O
emails	O
,	O
printing	O
funny	O
jokes	O
on	O
the	O
printer	O
,	O
what	O
have	O
you	O
.	O
What	O
I	O
would	O
like	O
,	O
is	O
to	O
have	O
one	O
of	O
these	O
components	O
be	O
able	O
to	O
display	O
a	O
GUI	O
,	O
e.g	O
.	O
with	O
status	O
information	O
for	O
the	O
said	O
email	O
sending	O
component	O
.	O
The	O
lifetime	O
of	O
the	O
complete	O
system	O
looks	O
like	O
this	O
Application	O
starts	O
.	O
Check	O
configuration	O
file	O
for	O
components	O
to	O
load	O
.	O
Load	O
them	O
.	O
For	O
each	O
component	O
,	O
run	O
DoStuff	B
(	I
)	I
to	O
initialize	O
it	O
and	O
make	O
it	O
live	O
its	O
own	O
life	O
in	O
their	O
own	O
threads	O
.	O
Continue	O
to	O
do	O
main	O
application-thingy	O
king	O
of	O
work	O
,	O
forever	O
.	O
I	O
have	O
not	O
yet	O
been	O
able	O
to	O
successfully	O
perform	O
point	O
3	O
if	O
the	O
component	O
fires	O
up	O
a	O
GUI	O
in	O
DoStuff	B
(	I
)	I
.	O
It	O
simply	O
just	O
halts	O
until	O
the	O
GUI	O
is	O
closed	O
.	O
And	O
not	O
until	O
the	O
GUI	O
is	O
closed	O
does	O
the	O
program	O
progress	O
to	O
point	O
4	O
.	O
It	O
would	O
be	O
great	O
if	O
these	O
components	O
were	O
allowed	O
to	O
start	O
up	O
their	O
own	O
Windows	O
Forms	O
GUIs	O
.	O
Problem	O
When	O
a	O
component	O
tries	O
to	O
fire	O
up	O
a	O
GUI	O
in	O
DoStuff	B
(	I
)	I
(	O
the	O
exact	O
line	O
of	O
code	O
is	O
when	O
the	O
component	O
runs	O
Application.Run	B
(	I
theForm	I
)	I
)	O
,	O
the	O
component	O
and	O
hence	O
our	O
system	O
``	O
hangs	O
''	O
at	O
the	O
Application.Run	B
(	I
)	I
line	O
until	O
the	O
GUI	O
is	O
closed	O
.	O
Well	O
,	O
the	O
just	O
fired	O
up	O
GUI	O
works	O
fine	O
,	O
as	O
expected	O
.	O
Example	O
of	O
components	O
.	O
One	O
has	O
n't	O
nothing	O
to	O
do	O
with	O
GUI	O
,	O
whilst	O
the	O
second	O
fires	O
up	O
a	O
cute	O
windows	O
with	O
pink	O
fluffy	O
bunnies	O
in	O
them	O
.	O
public	O
class	O
MyComponent1	O
:	O
IComponent	O
{	O
public	O
string	O
DoStuff	O
(	O
...	O
)	O
{	O
//	O
write	O
something	O
to	O
the	O
database	O
}	O
}	O
public	O
class	O
MyComponent2	O
:	O
IComponent	O
{	O
public	O
void	O
DoStuff	O
(	O
)	O
{	O
Application.EnableVisualStyles	O
(	O
)	O
;	O
Application.SetCompatibleTextRenderingDefault	O
(	O
false	O
)	O
;	O
Application.Run	O
(	O
new	O
Form	O
(	O
)	O
)	O
;	O
//	O
I	O
want	O
the	O
thread	O
to	O
immediately	O
return	O
after	O
the	O
GUI	O
//	O
is	O
fired	O
up	O
,	O
so	O
that	O
my	O
main	O
thread	O
can	O
continue	O
to	O
work.	O
}	O
}	O
I	O
have	O
tried	O
this	O
with	O
no	O
luck	O
.	O
Even	O
when	O
I	O
try	O
to	O
fire	O
up	O
the	O
GUI	O
in	O
it	O
's	O
own	O
thread	O
,	O
the	O
execution	O
halts	O
until	O
the	O
GUI	O
as	O
closed	O
.	O
public	O
void	O
DoStuff	O
(	O
)	O
{	O
new	O
Thread	O
(	O
ThreadedInitialize	O
)	O
.Start	O
(	O
)	O
}	O
private	O
void	O
ThreadedInitialize	O
(	O
)	O
{	O
Application.EnableVisualStyles	O
(	O
)	O
;	O
Application.SetCompatibleTextRenderingDefault	O
(	O
false	O
)	O
;	O
Application.Run	O
(	O
new	O
Form	O
(	O
)	O
)	O
;	O
}	O
Is	O
it	O
possible	O
to	O
spin	O
off	O
a	O
GUI	O
and	O
return	O
after	O
Application.Run	B
(	I
)	I
?	O
