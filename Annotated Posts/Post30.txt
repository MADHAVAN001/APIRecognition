I	O
have	O
been	O
trying	O
to	O
implement	O
Win32	O
's	O
using	O
GTK	O
.	O
The	O
app	O
using	O
SDL/OpenGL	O
,	O
so	O
this	O
is	O
n't	O
a	O
GTK	O
app	O
.	O
I	O
handle	O
the	O
initialisation	O
(	O
)	O
sort	O
of	O
stuff	O
inside	O
the	O
function	O
as	O
follows	O
:	O
int	O
MessageBox	O
(	O
HWND	O
hwnd	O
,	O
const	O
char*	O
text	O
,	O
const	O
char*	O
caption	O
,	O
UINT	O
type	O
)	O
{	O
GtkWidget	O
*window	O
=	O
NULL	O
;	O
GtkWidget	O
*dialog	O
=	O
NULL	O
;	O
gtk_init	O
(	O
gtkArgc	O
,	O
gtkArgv	O
)	O
;	O
window	O
=	O
gtk_window_new	O
(	O
GTK_WINDOW_TOPLEVEL	O
)	O
;	O
g_signal_connect	O
(	O
G_OBJECT	O
(	O
window	O
)	O
,	O
``	O
delete_event	O
''	O
,	O
G_CALLBACK	O
(	O
delete_event	O
)	O
,	O
NULL	O
)	O
;	O
g_signal_connect	O
(	O
G_OBJECT	O
(	O
window	O
)	O
,	O
``	O
destroy	O
''	O
,	O
G_CALLBACK	O
(	O
destroy	O
)	O
,	O
NULL	O
)	O
;	O
//	O
gcallback	O
calls	O
gtk_main_quit	O
(	O
)	O
gtk_init_add	O
(	O
(	O
GtkFunction	O
)	O
gcallback	O
,	O
NULL	O
)	O
;	O
if	O
(	O
type	O
MB_YESNO	O
)	O
{	O
dialog	O
=	O
gtk_message_dialog_new	O
(	O
GTK_WINDOW	O
(	O
window	O
)	O
,	O
GTK_DIALOG_DESTROY_WITH_PARENT	O
,	O
GTK_MESSAGE_QUESTION	O
,	O
GTK_BUTTONS_YES_NO	O
,	O
text	O
)	O
;	O
}	O
else	O
{	O
dialog	O
=	O
gtk_message_dialog_new	O
(	O
GTK_WINDOW	O
(	O
window	O
)	O
,	O
GTK_DIALOG_DESTROY_WITH_PARENT	O
,	O
GTK_MESSAGE_INFO	O
,	O
GTK_BUTTONS_OK	O
,	O
text	O
)	O
;	O
}	O
gtk_window_set_title	O
(	O
GTK_WINDOW	O
(	O
dialog	O
)	O
,	O
caption	O
)	O
;	O
gint	O
result	O
=	O
gtk_dialog_run	O
(	O
GTK_DIALOG	O
(	O
dialog	O
)	O
)	O
;	O
gtk_main	O
(	O
)	O
;	O
gtk_widget_destroy	O
(	O
dialog	O
)	O
;	O
if	O
(	O
type	O
MB_YESNO	O
)	O
{	O
switch	O
(	O
result	O
)	O
{	O
default	O
:	O
case	O
GTK_RESPONSE_DELETE_EVENT	O
:	O
case	O
GTK_RESPONSE_NO	O
:	O
return	O
IDNO	O
;	O
break	O
;	O
case	O
GTK_RESPONSE_YES	O
:	O
return	O
IDYES	O
;	O
break	O
;	O
}	O
}	O
return	O
IDOK	O
;	O
}	O
Now	O
,	O
I	O
am	O
by	O
no	O
means	O
an	O
experienced	O
GTK	O
programmer	O
,	O
and	O
I	O
realise	O
that	O
I	O
'm	O
probably	O
doing	O
something	O
(	O
s	O
)	O
horribly	O
wrong	O
.	O
However	O
,	O
my	O
problem	O
is	O
that	O
the	O
last	O
dialog	O
popped	O
up	O
with	O
this	O
function	O
stays	O
around	O
until	O
the	O
process	O
exits	O
.	O
Any	O
ideas	O
?	O
