The	O
.Net	O
2.0	O
framework	O
namespace	O
supports	O
GZip	O
and	O
Deflate	O
algorithms	O
.	O
Here	O
are	O
two	O
methods	O
that	O
compress	O
and	O
decompress	O
a	O
byte	O
stream	O
which	O
you	O
can	O
get	O
from	O
your	O
file	O
object	O
.	O
You	O
can	O
subsitute	O
for	O
in	O
the	O
methods	O
below	O
to	O
use	O
that	O
algorithm	O
.	O
This	O
still	O
leaves	O
the	O
problem	O
of	O
handling	O
files	O
compressed	O
with	O
different	O
algorithms	O
though	O
.	O
public	O
static	O
byte	O
[	O
]	O
Compress	O
(	O
byte	O
[	O
]	O
data	O
)	O
{	O
MemoryStream	O
output	O
=	O
new	O
MemoryStream	B-API
(	I-API
)	I-API
;	O
GZipStream	O
gzip	O
=	O
new	O
GZipStream	B-API
(	I-API
output	I-API
,	I-API
CompressionMode.Compress	I-API
,	I-API
true	I-API
)	I-API
;	O
gzip.Write	B-API
(	I-API
data	I-API
,	I-API
0	I-API
,	I-API
data.Length	I-API
)	I-API
;	O
gzip.Close	B-API
(	I-API
)	I-API
;	O
return	O
output.ToArray	B-API
(	I-API
)	I-API
;	O
}	O
public	O
static	O
byte	O
[	O
]	O
Decompress	B-API
(	I-API
byte	I-API
[	I-API
]	I-API
data	I-API
)	I-API
{	O
MemoryStream	O
input	O
=	O
new	O
MemoryStream	B-API
(	I-API
)	I-API
;	O
input.Write	 B-API
(	I-API
data	I-API
,	I-API
0	I-API
,	I-API
data.Length	I-API
)	I-API
;	O
input.Position	O
=	O
0	O
;	O
GZipStream	O
gzip	O
=	O
new	O
GZipStream	B-API
(	I-API
input	I-API
,	I-API
CompressionMode.Decompress	I-API
,	I-API
true	I-API
)	I-API
;	O
MemoryStream	O
output	O
=	O
new	O
MemoryStream	B-API
(	I-API
)	I-API
;	O
byte	O
[	O
]	O
buff	O
=	O
new	O
byte	O
[	O
64	O
]	O
;	O
int	O
read	O
=	O
-1	O
;	O
read	O
=	O
gzip.Read	B-API
(	I-API
buff	I-API
,	I-API
0	I-API
,	I-API
buff.Length	I-API
)	I-API
;	O
while	O
(	O
read	O
0	O
)	O
{	O
output.Write	B-API
(	I-API
buff	I-API
,	I-API
0	I-API
,	I-API
read	I-API
)	I-API
;	O
read	O
=	O
gzip.Read	B-API
(	I-API
buff	I-API
,	I-API
0	I-API
,	I-API
buff.Length	I-API
)	I-API
;	O
}	O
gzip.Close	B-API
(	I-API
)	I-API
;	O
return	O
output.ToArray	B-API
(	I-API
)	I-API
;	O
}	O
