I	O
am	O
working	O
on	O
a	O
project	O
that	O
requires	O
the	O
manipulation	O
of	O
enormous	O
matrices	O
,	O
particularly	O
pyramidal	O
summation	O
for	O
a	O
copula	O
calculation	O
.	O
In	O
short	O
,	O
I	O
need	O
to	O
keep	O
track	O
of	O
a	O
relatively	O
small	O
number	O
of	O
values	O
(	O
usually	O
a	O
value	O
of	O
1	O
,	O
and	O
in	O
rare	O
cases	O
more	O
than	O
1	O
)	O
in	O
a	O
sea	O
of	O
zeros	O
in	O
the	O
matrix	O
(	O
multidimensional	O
array	O
)	O
.	O
A	O
sparse	O
array	O
allows	O
the	O
user	O
to	O
store	O
a	O
small	O
number	O
of	O
values	O
,	O
and	O
assume	O
all	O
undefined	O
records	O
to	O
be	O
a	O
preset	O
value	O
.	O
Since	O
it	O
is	O
not	O
physically	O
possibly	O
to	O
store	O
all	O
values	O
in	O
memory	O
(	O
greater	O
in	O
number	O
than	O
the	O
number	O
of	O
particles	O
in	O
the	O
universe	O
:	O
p	O
)	O
,	O
I	O
need	O
to	O
store	O
only	O
the	O
few	O
non-zero	O
elements	O
.	O
This	O
could	O
be	O
several	O
million	O
entries	O
,	O
I	O
currently	O
work	O
on	O
a	O
system	O
that	O
uses	O
a	O
binary	O
search	O
tree	O
(	O
b-tree	O
)	O
to	O
store	O
entries	O
.	O
Does	O
anyone	O
know	O
of	O
a	O
better	O
system	O
?	O
EDIT	O
:	O
Speed	O
is	O
a	O
huge	O
priority	O
.	O
EDIT	O
2	O
:	O
I	O
like	O
that	O
solution	O
.	O
How	O
would	O
I	O
go	O
about	O
dynamically	O
choosing	O
the	O
number	O
of	O
variables	O
in	O
the	O
class	O
at	O
runtime	O
?	O
[	O
edit	O
by	O
MH	O
:	O
good	O
question	O
,	O
updated	O
in	O
the	O
answer	O
]	O
